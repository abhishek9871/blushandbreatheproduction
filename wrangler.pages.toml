name = "jyotilalchandani"
compatibility_date = "2024-09-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "dist"

kv_namespaces = [
  { binding = "MERGED_CACHE", id = "___MERGED_CACHE_ID___" },
  { binding = "EBAY_TOKEN", id = "___EBAY_TOKEN_ID___" },
  { binding = "SUGGESTIONS", id = "___SUGGESTIONS_ID___" },
  { binding = "OVERRIDES", id = "___OVERRIDES_ID___" },
  { binding = "AFFILIATE_KV", id = "___AFFILIATE_KV_ID___" }
]

[[durable_objects.bindings]]
name = "AFFILIATE_DO"
class_name = "AffiliateCounter"
script_name = "cloudflare-do"

# Pages does not support migrations in its config; DO migrations happen on the bound Worker

[env.production]
vars = { VITE_NEWSAPI_KEY = "15e89be5f2da4687bc1c0f990e10885b", OBF_BASE_URL = "https://world.openbeautyfacts.org", MERGED_TTL_SECONDS = "14400", EBAY_CLIENT_ID = "PLACEHOLDER", EBAY_CLIENT_SECRET = "PLACEHOLDER", EBAY_CAMPAIGN_ID = "PLACEHOLDER", ADMIN_PASSWORD = "admin123" }

[[env.production.durable_objects.bindings]]
name = "AFFILIATE_DO"
class_name = "AffiliateCounter"
script_name = "cloudflare-do"

[env.preview]
vars = { VITE_NEWSAPI_KEY = "15e89be5f2da4687bc1c0f990e10885b", OBF_BASE_URL = "https://world.openbeautyfacts.org", MERGED_TTL_SECONDS = "14400" }

[[env.preview.durable_objects.bindings]]
name = "AFFILIATE_DO"
class_name = "AffiliateCounter"
script_name = "cloudflare-do"

# Environment variables to set in Cloudflare Pages dashboard:
# EBAY_CLIENT_ID (secret)
# EBAY_CLIENT_SECRET (secret)
# EBAY_CAMPAIGN_ID (secret)
# ADMIN_PASSWORD (secret)